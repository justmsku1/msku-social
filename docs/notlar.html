<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ders Notları - Just MSKU</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- TEMEL AYARLAR --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Montserrat', sans-serif; }
        body { background-color: #000; color: #fff; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

        /* HEADER */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 40px; background: #1a1a1a; border-bottom: 1px solid #333;
            height: 70px; flex-shrink: 0;
        }
        .header-left { display: flex; align-items: center; gap: 20px; }
        
        /* Geri ve Anasayfa Butonları */
        .nav-icon-btn { 
            color: #ccc; font-size: 20px; cursor: pointer; transition: 0.3s; 
            display: flex; align-items: center; justify-content: center;
            width: 40px; height: 40px; border-radius: 50%; background: #222;
        }
        .nav-icon-btn:hover { color: #24caac; background: #333; }
        
        header h1 { color: #24caac; font-size: 20px; letter-spacing: 1px; margin-left: 10px; }

        /* ARAMA ÇUBUĞU */
        .search-container {
            flex: 1; display: flex; justify-content: center;
        }
        .search-box {
            background: #333; padding: 10px 20px; border-radius: 30px; 
            display: flex; align-items: center; width: 50%; max-width: 500px;
            border: 1px solid #333; transition: 0.3s;
        }
        .search-box:focus-within { border-color: #24caac; background: #222; }
        .search-box input {
            background: transparent; border: none; outline: none; 
            color: #fff; margin-left: 10px; width: 100%; font-size: 15px;
        }

        /* İÇERİK ALANI */
        .main-content {
            flex: 1; padding: 30px; overflow-y: auto; position: relative;
        }

        .breadcrumb { margin-bottom: 20px; color: #888; font-size: 14px; }
        .breadcrumb span { color: #24caac; cursor: pointer; }
        .breadcrumb span:hover { text-decoration: underline; }

        /* GRID YAPISI */
        .grid-container {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;
        }

        .card {
            background: #1a1a1a; border: 1px solid #333; border-radius: 15px;
            padding: 25px; text-align: center; cursor: pointer; transition: 0.3s;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 180px; position: relative; overflow: hidden;
        }
        .card:hover { transform: translateY(-5px); border-color: #24caac; box-shadow: 0 5px 15px rgba(36, 202, 172, 0.2); }
        .card i { font-size: 40px; color: #24caac; margin-bottom: 15px; }
        .card h3 { font-size: 16px; font-weight: 600; }

        /* NOT LİSTESİ */
        .notes-list { display: flex; flex-direction: column; gap: 15px; }
        .note-item {
            background: #1a1a1a; padding: 20px; border-radius: 10px; border-left: 5px solid #24caac;
            display: flex; justify-content: space-between; align-items: center; transition: 0.2s;
        }
        .note-item:hover { background: #222; }
        .note-info h4 { margin-bottom: 5px; color: #fff; }
        .note-info p { font-size: 12px; color: #aaa; }
        .download-btn {
            background: #333; color: #24caac; padding: 8px 15px; border-radius: 20px;
            text-decoration: none; font-size: 13px; font-weight: bold; border: 1px solid #24caac;
            transition: 0.3s;
        }
        .download-btn:hover { background: #24caac; color: #000; }

        /* EKLE BUTONU */
        .add-btn {
            display: none; 
            position: absolute; top: 20px; right: 30px;
            background: #24caac; color: #000; border: none;
            padding: 10px 20px; border-radius: 30px; font-weight: bold; cursor: pointer;
            box-shadow: 0 0 15px rgba(36, 202, 172, 0.4);
            align-items: center; gap: 10px;
        }
        .add-btn:hover { transform: scale(1.05); }

        /* MODAL */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #1a1a1a; padding: 30px; border-radius: 15px; width: 90%; max-width: 400px;
            border: 1px solid #333; text-align: center;
        }
        .modal h2 { color: #24caac; margin-bottom: 20px; }
        .modal input, .modal textarea {
            width: 100%; background: #333; border: 1px solid #444; color: white;
            padding: 10px; border-radius: 5px; margin-bottom: 15px; outline: none;
        }
        .modal-buttons { display: flex; gap: 10px; justify-content: center; }
        .modal-btn { padding: 10px 20px; border-radius: 5px; border: none; cursor: pointer; font-weight: bold; }
        .cancel { background: #444; color: #fff; }
        .save { background: #24caac; color: #000; }

        /* MOBİL UYUM */
        @media (max-width: 600px) {
            header { padding: 10px 15px; }
            .header-left { gap: 10px; }
            header h1 { display: none; } /* Mobilde başlığı gizle, yer kalsın */
            .search-box { width: 100%; }
            .main-content { padding: 15px; }
            .grid-container { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-left">
            <div class="nav-icon-btn" onclick="goToHome()" title="Ana Sayfaya Dön">
                <i class="fa-solid fa-house"></i>
            </div>

            <div class="nav-icon-btn" onclick="goBack()" title="Geri">
                <i class="fa-solid fa-arrow-left"></i>
            </div>
            
            <h1>MSKU Notlar</h1>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass" style="color:#aaa;"></i>
                <input type="text" id="searchInput" placeholder="Fakülte, Bölüm ara..." onkeyup="filterItems()">
            </div>
        </div>

        <button id="addNoteBtn" class="add-btn" onclick="openModal()">
            <i class="fa-solid fa-plus"></i> Not Ekle
        </button>
    </header>

    <div class="main-content">
        <div class="breadcrumb" id="breadcrumb">
            <span onclick="renderFaculties()">Fakülteler</span>
        </div>

        <div id="contentArea" class="grid-container">
            </div>

        <div id="notesArea" class="notes-list" style="display: none;">
            </div>
    </div>

    <div id="noteModal" class="modal">
        <div class="modal-content">
            <h2>Yeni Not Paylaş</h2>
            <input type="text" id="noteTitle" placeholder="Ders Adı / Konu">
            <input type="text" id="noteAuthor" placeholder="Ekleyen (Ad Soyad)">
            <textarea id="noteDesc" placeholder="Kısa açıklama..."></textarea>
            <div style="text-align:left; margin-bottom:15px; font-size:12px; color:#888;">Dosya Seç (PDF/JPG):</div>
            <input type="file" id="noteFile">
            
            <div class="modal-buttons">
                <button class="modal-btn cancel" onclick="closeModal()">İptal</button>
                <button class="modal-btn save" onclick="saveNote()">Paylaş</button>
            </div>
        </div>
    </div>

    <script>
        // --- VERİ TABANI ---
        const mskuData = {
            "Mühendislik Fakültesi": {
                icon: "fa-solid fa-laptop-code",
                bolumler: ["Elektrik-Elektronik Müh.","Bilgisayar Mühendisliği", "Yazılım Mühendisliği", "İnşaat Mühendisliği", "Maden Mühendisliği"]
            },
            "Tıp Fakültesi": {
                icon: "fa-solid fa-user-doctor",
                bolumler: ["Tıp (Türkçe)", "Tıp (İngilizce)", "Temel Tıp Bilimleri"]
            },
            "Eğitim Fakültesi": {
                icon: "fa-solid fa-chalkboard-user",
                bolumler: ["Sınıf Öğretmenliği", "İngilizce Öğretmenliği", "Okul Öncesi", "Rehberlik ve Psikolojik Dan."]
            },
            "Fen Fakültesi": {
                icon: "fa-solid fa-flask",
                bolumler: ["Matematik", "Fizik", "Kimya", "Biyoloji", "Moleküler Biyoloji"]
            },
            "Spor Bilimleri Fakültesi": {
                icon: "fa-solid fa-basketball",
                bolumler: ["Antrenörlük", "Beden Eğitimi", "Spor Yöneticiliği"]
            },
            "İktisadi ve İdari Bilimler": {
                icon: "fa-solid fa-chart-line",
                bolumler: ["İktisat", "İşletme", "Uluslararası İlişkiler", "Siyaset Bilimi"]
            },
            "Teknoloji Fakültesi": {
                icon: "fa-solid fa-microchip",
                bolumler: ["Bilişim Sistemleri", "Enerji Sistemleri", "Ağaç İşleri"]
            }
        };

        let currentLevel = 'faculty'; 
        let selectedFaculty = '';
        let selectedDepartment = '';

        document.addEventListener("DOMContentLoaded", () => {
            renderFaculties();
        });

        // 1. FAKÜLTELERİ LİSTELE
        function renderFaculties() {
            currentLevel = 'faculty';
            selectedFaculty = '';
            
            document.getElementById('breadcrumb').innerHTML = '<span onclick="renderFaculties()">Fakülteler</span>';
            document.getElementById('addNoteBtn').style.display = 'none';
            document.getElementById('notesArea').style.display = 'none';
            
            const container = document.getElementById('contentArea');
            container.style.display = 'grid';
            container.innerHTML = '';

            for (const [facultyName, data] of Object.entries(mskuData)) {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `<i class="${data.icon}"></i><h3>${facultyName}</h3>`;
                card.onclick = () => renderDepartments(facultyName);
                container.appendChild(card);
            }
        }

        // 2. BÖLÜMLERİ LİSTELE
        function renderDepartments(facultyName) {
            currentLevel = 'department';
            selectedFaculty = facultyName;

            document.getElementById('breadcrumb').innerHTML = `<span onclick="renderFaculties()">Fakülteler</span> > <span>${facultyName}</span>`;
            
            const container = document.getElementById('contentArea');
            container.innerHTML = '';

            const departments = mskuData[facultyName].bolumler;
            departments.forEach(dept => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `<i class="fa-solid fa-graduation-cap"></i><h3>${dept}</h3>`;
                card.onclick = () => renderNotes(dept);
                container.appendChild(card);
            });
        }

        // 3. NOTLARI LİSTELE
        function renderNotes(deptName) {
            currentLevel = 'notes';
            selectedDepartment = deptName;

            document.getElementById('breadcrumb').innerHTML = 
                `<span onclick="renderFaculties()">Fakülteler</span> > 
                 <span onclick="renderDepartments('${selectedFaculty}')">${selectedFaculty}</span> > 
                 <span>${deptName}</span>`;

            document.getElementById('contentArea').style.display = 'none';
            document.getElementById('notesArea').style.display = 'flex';
            document.getElementById('addNoteBtn').style.display = 'flex';

            const notesContainer = document.getElementById('notesArea');
            if(notesContainer.children.length === 0) {
                 addNoteToUI("Fizik-1 Vize Notları", "Ahmet Yılmaz", "Vize öncesi çıkardığım özet notlar.");
                 addNoteToUI("Matematik Çıkmış Sorular", "Ayşe Demir", "Son 3 yılın final soruları.");
            }
        }

        function addNoteToUI(title, author, desc) {
            const container = document.getElementById('notesArea');
            const item = document.createElement('div');
            item.className = 'note-item';
            
            item.innerHTML = `
                <div class="note-info">
                    <h4><i class="fa-solid fa-file-pdf" style="color:#ff4b4b; margin-right:10px;"></i> ${title}</h4>
                    <p>${desc} • <strong>${author}</strong> tarafından eklendi.</p>
                </div>
                <a href="#" class="download-btn" onclick="alert('İndirme başlatılıyor...')"><i class="fa-solid fa-download"></i> İndir</a>
            `;
            container.prepend(item);
        }

        function filterItems() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            if (currentLevel === 'notes') {
                const notes = document.querySelectorAll('.note-item');
                notes.forEach(note => {
                    const text = note.innerText.toLowerCase();
                    note.style.display = text.includes(query) ? 'flex' : 'none';
                });
            } else {
                const cards = document.querySelectorAll('.card');
                cards.forEach(card => {
                    const text = card.innerText.toLowerCase();
                    card.style.display = text.includes(query) ? 'flex' : 'none';
                });
            }
        }

        function openModal() { document.getElementById('noteModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('noteModal').style.display = 'none'; }
        
        function saveNote() {
            const title = document.getElementById('noteTitle').value;
            const author = document.getElementById('noteAuthor').value;
            const desc = document.getElementById('noteDesc').value;

            if(title && author) {
                addNoteToUI(title, author, desc);
                closeModal();
                document.getElementById('noteTitle').value = "";
                document.getElementById('noteAuthor').value = "";
                document.getElementById('noteDesc').value = "";
            } else {
                alert("Lütfen başlık ve isim giriniz.");
            }
        }

        // --- YÖNLENDİRME FONKSİYONLARI ---

        // Ana Sayfaya Dön (b.html)
        function goToHome() {
            // notlar.html bir klasörde (/login) olduğu için bir üst klasöre çıkıyoruz (..)
            window.location.href = "pylsmgemini.html";
        }

        // Hiyerarşik Geri Git
        function goBack() {
            if(currentLevel === 'notes') {
                renderDepartments(selectedFaculty);
            } else if(currentLevel === 'department') {
                renderFaculties();
            } else {
                // Eğer Fakülteler sayfasındaysak ve geri basılırsa da ana sayfaya gitsin
                goToHome();
            }
        }

        window.onclick = function(event) {
            const modal = document.getElementById('noteModal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>